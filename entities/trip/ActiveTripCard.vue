<script setup lang="ts">
import type { Trip } from '@/services/api'

interface Props {
  trip: Trip
}

defineProps<Props>()
</script>

<template>
  <div
    class="relative overflow-hidden h-24 rounded-[32px] py-4 px-5 flex justify-between items-center text-xs bg-primary text-white"
  >
    <div class="flex flex-col gap-2 justify-between items-start">
      <div class="space-y-1">
        <p class="text-xs opacity-70">Сейчас</p>
        <p class="text-sm font-semibold truncate w-36">{{ trip.id }}</p>
      </div>
      <div class="flex items-center gap-1 text-xs w-48">
        <p>{{ trip.route.at(0).name }}</p>
        <p>→</p>
        <p v-if="trip.route.length > 2">... →</p>
        <p>{{ trip.route.at(-1).name }}</p>
      </div>
    </div>
    <div>
      <div
        class="rounded-full border-2 flex flex-col items-center justify-center gap-0.5 h-16 w-16 border-[rgba(255,255,255,0.5)]"
      >
        <svg width="12" height="20" viewBox="0 0 12 20" xmlns="http://www.w3.org/2000/svg">
          <path
            class="fill-white"
            d="M7.36483 9.04703C7.50984 9.24445 7.69619 9.38339 7.88719 9.43737L10.4278 10.4554C10.5606 10.5094 10.6971 10.5362 10.8338 10.5362C11.3231 10.5362 11.7707 10.1863 11.9196 9.70175C12.036 9.39688 12.0233 9.04676 11.8991 8.7464C11.7663 8.44576 11.5303 8.21711 11.2481 8.1139L8.97275 7.21677C8.80279 6.99235 8.63258 6.7682 8.46702 6.54828C8.28483 6.31064 8.10215 6.07272 7.90749 5.81258C7.8329 5.72313 7.75831 5.61966 7.68372 5.51671C7.41398 5.14436 7.11587 4.73179 6.60158 4.63757L6.58104 4.63281H6.5605C6.46096 4.63281 6.35727 4.62381 6.2619 4.61958C6.14574 4.61058 6.03349 4.60158 5.91806 4.60158C5.87208 4.60158 5.8266 4.59682 5.77255 4.58359C5.68989 4.57459 5.59843 4.56109 5.49939 4.56109C5.4451 4.56109 5.39154 4.56109 5.32942 4.57459C5.11373 4.61058 4.90659 4.6868 4.73638 4.79424L2.59338 5.77659C2.29918 5.90229 1.85997 6.09522 1.59438 6.50329L1.58631 6.51229L0.152262 9.21719C0.00308549 9.48183 -0.0382438 9.82269 0.0360999 10.1411C0.114846 10.4774 0.31391 10.7646 0.574847 10.9217C0.748968 11.043 0.94412 11.1012 1.16789 11.1012C1.59438 11.1012 1.95534 10.877 2.18326 10.4642L3.41849 8.1049L3.87874 7.89398L3.2901 10.7286L3.26492 10.7511L2.86703 13.8863L0.459174 18.125C0.135877 18.69 0.309998 19.4527 0.848745 19.8293C0.985694 19.919 1.12631 19.9682 1.2838 19.991C1.33809 19.9955 1.38749 20 1.44178 20C1.86021 20 2.23755 19.7711 2.4239 19.4077L4.96504 14.9311C5.03107 14.7829 5.06873 14.6349 5.09734 14.5095L5.11006 14.4693L5.35461 12.5673L7.39784 14.1599V18.699C7.39784 19.1743 7.64679 19.5917 8.01533 19.7981C8.17282 19.8878 8.35135 19.937 8.54185 19.937C9.17157 19.937 9.68171 19.3807 9.68171 18.699V13.5549C9.68171 13.1513 9.49927 12.761 9.21339 12.5369L6.63949 10.5047L7.054 8.61646L7.36483 9.04703Z"
          />
          <path
            class="fill-white"
            d="M5.28785 3.67349C5.59452 3.9204 5.97186 4.05933 6.37782 4.05933C6.65563 4.05933 6.91265 3.99635 7.14889 3.87541C7.79964 3.56128 8.25157 2.84833 8.25157 2.02742C8.25157 0.910631 7.41007 0 6.37782 0C5.32502 0 4.50455 0.8929 4.50455 2.02742C4.50455 2.7094 4.81146 3.31013 5.28785 3.67349Z"
          />
        </svg>
        <p class="text-[8px]">1ч 25мин</p>
      </div>
    </div>
    <div class="absolute -right-3 border-2 rounded-full h-72 w-72 blur-xs opacity-20"></div>
    <div class="absolute -right-5 border-2 rounded-full h-52 w-52 blur-xs opacity-50"></div>
    <div class="absolute -right-2 border-2 rounded-full h-32 w-32 opacity-50"></div>
  </div>
</template>

<style scoped></style>
